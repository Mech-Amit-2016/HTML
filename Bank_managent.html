<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BankAccount</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  
    <script>
        function createAccount(){
        let a=document.getElementById("A").value;
        let b=document.getElementById("B").value;
        let c=document.getElementById("C").value;
        console.log(a)
        console.log(b)
        console.log(c)
    
        let url="http://192.168.1.4:999/addaccount?accountno="+a+"&name="+b+"&balance="+c;
        let p=fetch(url,{
          method : "Post",
                    mode: 'cors',
        })
        p.then((response)=>{  
          return response.json();
    }).then((value2)=>{
      console.log(value2);
    //   document.getElementById("C").value=" ";
    //   console.log(document.getElementById("C").value);
    console.log(value2.accountno)
    console.log(value2.name)
    console.log(value2.balnace)
    let out="<table border='1'><tr><td>"+value2.accountno+"</td></tr><tr><td>"+value2.name+"</td></tr><tr><td>"+value2.balance+"</td></tr></table>"
        
        

    document.getElementById("D").innerHTML=out;
    return value2;
    // console.log(value2);
    }) 
}
function getbalance(){
    let a=document.getElementById("A").value;
    console.log(a)
    let url="http://192.168.1.4:999/checkbalance?accountno="+a;
        let p=fetch(url,{
          method : "Get",
                    mode: 'cors',
        })
        p.then((response)=>{  
          return response.json();
    }).then((value2)=>{
      console.log(value2);
    //   document.getElementById("C").value=" ";
    //   console.log(document.getElementById("C").value);
    // console.log(value2.balnace)        
        
    document.getElementById("D").innerHTML="your balance is"+value2;
    return value2;
    // console.log(value2);
    }) 

}

function deposit(){
    let a=document.getElementById("A").value;
    let c=document.getElementById("C").value;

    console.log(a)
    console.log(c)

    let url="http://192.168.1.4:999/deposit?accountno="+a+"&amount="+c;
        let p=fetch(url,{
          method : "Put",
                    mode: 'cors',
        })
        p.then((response)=>{  
            console.log(response)
          return response.text();
    }).then((value2)=>{
      // console.log(value2);
    //   document.getElementById("C").value=" ";
    //   console.log(document.getElementById("C").value);
    // console.log(value2.balnace)        
        console.log(value2);
    document.getElementById("D").innerHTML=value2;
    return value2;
    // console.log(value2);
    }) 
}

   function withdraw(){
    let a=document.getElementById("A").value;
    let c=document.getElementById("C").value;

    console.log(a)
    console.log(c)

    let url="http://192.168.1.4:999/withdraw?accountno="+a+"&amount="+c;
        let p=fetch(url,{
          method : "Put",
                    mode: 'cors',
        })
        p.then((response)=>{  
            // console.log(response)
          return response.text();
    }).then((value2)=>{
      // console.log(value2);
    //   document.getElementById("C").value=" ";
    //   console.log(document.getElementById("C").value);
    // console.log(value2.balnace)        
        console.log(value2);
    document.getElementById("D").innerHTML=value2;
    return value2;
    // console.log(value2);
    }) 
}
    </script>
</head>
  <body style="background-color: coral;">
    <div class="container-fluid">
    <div class="form-floating mb-3">
        <input  class="form-control" id="A" placeholder="name@example.com">
        <label for="floatingInput">accountno</label>
      </div>
      <div class="form-floating mb-3">
        <input  class="form-control" id="B" placeholder="name@example.com">
        <label for="floatingInput">name</label>
      </div>
      <div class="form-floating mb-3">
        <input  class="form-control" id="C" placeholder="name@example.com">
        <label for="floatingInput">Enter amount</label>
      </div>
      <button type="button" onclick="createAccount()" class="btn btn-primary btn-lg">create account</button>
      <button type="button" onclick="getbalance()" class="btn btn-primary btn-lg">get balance</button>
      <button type="button" onclick="deposit()" class="btn btn-primary btn-lg">deposit</button>
      <button type="button" onclick="withdraw()" class="btn btn-primary btn-lg">withdraw</button>

     <h1 id="D"></h1>
      </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
  </body>
</html>